{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Butte\\\\DirtBikePark\\\\frontend\\\\src\\\\components\\\\CartDetails\\\\cartDetails.tsx\",\n  _s = $RefreshSig$();\nimport CartCard from \"../cartCard/cartCard\";\nimport { useState } from \"react\";\nimport \"./cartDetails.css\";\nimport PaymentDetails from \"../PaymentDetails/PaymentDetails\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CartDetails(props) {\n  _s();\n  const {\n    cartService,\n    handleDelete\n  } = props;\n\n  //Pulling from local storage as source of truth\n  const [cart, setCart] = useState(cartService.loadCart());\n  const [paymentOption, setPaymentOption] = useState(\"PAY_AT_PARK\");\n  const updateCartItem = newCartItem => {\n    const item = cart.find(item => item.park.id === newCartItem.park.id);\n    cartService.updateCart(item, newCartItem);\n    setCart(cartService.loadCart());\n  };\n  const handleChange = e => {\n    setPaymentOption(e.target.value);\n  };\n  const deleteCartItem = item => {\n    cartService.removeItemFromCart(item);\n    handleDelete();\n    setCart(cartService.loadCart());\n  };\n  const getTaxPrice = () => {\n    return cart.reduce((acc, curr) => {\n      const {\n        numAdults,\n        numDays,\n        numKids,\n        park\n      } = curr;\n      return acc + (numAdults * numDays * park.adultPrice + numKids * numDays * park.childPrice) * 0.08;\n    }, 0);\n  };\n  const getTotalPrice = () => {\n    return cart.reduce((acc, curr) => {\n      const {\n        numAdults,\n        numDays,\n        numKids,\n        park\n      } = curr;\n      return acc + (numAdults * numDays * park.adultPrice + numKids * numDays * park.childPrice) * 1.08;\n    }, 0);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cartItems column\",\n      children: cart.map(item => /*#__PURE__*/_jsxDEV(CartCard, {\n        cartItem: item,\n        updateFn: e => updateCartItem(e),\n        deleteFn: deleteCartItem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 48\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Tax: $\", getTaxPrice().toFixed(2)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Total Price: $\", getTotalPrice().toFixed(2)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"How would you like to pay?\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"radio\",\n        name: \"selectedPayment\",\n        value: \"PAY_AT_PARK\",\n        checked: paymentOption === \"PAY_AT_PARK\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), \" Pay Later at the Park\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"radio\",\n        name: \"selectedPayment\",\n        value: \"PAY_NOW\",\n        checked: paymentOption === \"PAY_NOW\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), \" Pay Now\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), paymentOption === \"PAY_NOW\" && /*#__PURE__*/_jsxDEV(PaymentDetails, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 48\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n}\n_s(CartDetails, \"VGZ9uxeesmzYVPAtLiyg/y+kfAo=\");\n_c = CartDetails;\nvar _c;\n$RefreshReg$(_c, \"CartDetails\");","map":{"version":3,"names":["CartCard","useState","PaymentDetails","jsxDEV","_jsxDEV","CartDetails","props","_s","cartService","handleDelete","cart","setCart","loadCart","paymentOption","setPaymentOption","updateCartItem","newCartItem","item","find","park","id","updateCart","handleChange","e","target","value","deleteCartItem","removeItemFromCart","getTaxPrice","reduce","acc","curr","numAdults","numDays","numKids","adultPrice","childPrice","getTotalPrice","children","className","map","cartItem","updateFn","deleteFn","fileName","_jsxFileName","lineNumber","columnNumber","toFixed","type","name","checked","onChange","_c","$RefreshReg$"],"sources":["C:/Users/Butte/DirtBikePark/frontend/src/components/CartDetails/cartDetails.tsx"],"sourcesContent":["import CartService from \"../../services/cartService\";\nimport CartCard from \"../cartCard/cartCard\";\nimport { CartItem } from '../../models/cartItem';\nimport { useState } from \"react\";\nimport \"./cartDetails.css\"\nimport PaymentDetails from \"../PaymentDetails/PaymentDetails\";\n\ntype CartDetailsProps = {\n\tcartService: CartService\n    handleDelete: () => void\n}\n\nexport default function CartDetails(props: CartDetailsProps) {\n\tconst { cartService, handleDelete } = props;\n\n    //Pulling from local storage as source of truth\n    const [cart, setCart] = useState(cartService.loadCart());\n    const [paymentOption, setPaymentOption] = useState(\"PAY_AT_PARK\");\n\t\n    const updateCartItem = (newCartItem: CartItem) => {\n        const item = cart.find((item: CartItem) => item.park.id === newCartItem.park.id);\n        cartService.updateCart(item, newCartItem);\n        setCart(cartService.loadCart());\n    }\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setPaymentOption(e.target.value);\n    }\n\n    const deleteCartItem = (item: CartItem) => {\n        cartService.removeItemFromCart(item);\n        handleDelete();\n        setCart(cartService.loadCart());\n    }\n\n    const getTaxPrice = () => {\n        return cart.reduce((acc, curr) => {\n            const {numAdults, numDays, numKids, park} = curr;\n            return (\n                acc + \n                    ((numAdults * numDays * park.adultPrice) + \n                    (numKids * numDays * park.childPrice)) * 0.08 \n        )\n        }, 0)\n    }\n\n    const getTotalPrice = () => {\n        return cart.reduce((acc, curr) => {\n            const {numAdults, numDays, numKids, park} = curr;\n            return (\n                acc + \n                    ((numAdults * numDays * park.adultPrice) + \n                    (numKids * numDays * park.childPrice)) * 1.08 \n        )\n        }, 0)\n    }\n\t\n    return(\n        <div>\n            <div className=\"cartItems column\">\n                {cart.map(((item: CartItem) => <CartCard cartItem={item} updateFn={(e) => updateCartItem(e)} deleteFn={deleteCartItem} />))}      \n            </div>\n            <div>\n                Tax: ${getTaxPrice().toFixed(2)}\n            </div>\n            <div>\n                Total Price: ${getTotalPrice().toFixed(2)}\n            </div>\n            <label>\n                How would you like to pay?\n                <input type=\"radio\" name=\"selectedPayment\" value={\"PAY_AT_PARK\"} checked={paymentOption === \"PAY_AT_PARK\"} onChange={handleChange} /> Pay Later at the Park\n                <input type=\"radio\" name=\"selectedPayment\" value={\"PAY_NOW\"} checked={paymentOption === \"PAY_NOW\"} onChange={handleChange} /> Pay Now\n            </label>\n            {\n                paymentOption === \"PAY_NOW\" && <PaymentDetails />\n            }\n        </div>\n    )\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}